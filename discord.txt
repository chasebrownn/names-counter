import discord
from discord.ext.commands import Bot
import datetime
from dotenv import load_dotenv  
import os
load_dotenv() 

TOKEN = os.getenv('DISCORD_TOKEN')
 
bot = discord.Bot("!", intents=discord.Intents.all())

class DiscordNameChannel:
    def __init__(self, channel_id):
        self.channel_id = channel_id
    
    @bot.event
    async def on_ready():
        print(f'{bot.user} has connected to Discord!')
        bot_channel = bot.get_channel(int(channel_id))
        now = datetime.now() # current date and time

        date_time = now.strftime("%m/%d/%Y, %H:%M:%S")

        await bot_channel.edit(name = 'üéÅSynced', topic=date_time )
                
def execute(self):
    bot.run(TOKEN)

channel_id = 1107808230123520041
#1107808231662821390
myDiscord = DiscordNameChannel(channel_id)
myDiscord.execute()